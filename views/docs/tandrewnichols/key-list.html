{%= extends 'layout.html' %}

{%= block content %}
  <div class="row">
    <div class="col-xs-12">
      <div class="row">
        <div class="mlm plm col-xs-2">
          <div class="list-group fixed-sidebar-top" data-spy="affix" data-offset-top="1">
            <a id="github-{{= module.name }}" ng-init="mixpanel.track_links('#github-{{= module.name }}', 'Click', { target: 'github', module: '{{= module.name }}', action: 'view' })" href="https://github.com/{{= author }}/{{= module.name }}" target="_blank" class="list-group-item"><span class="fa fa-github"></span><span class="mls">View it on Github</span></a>
            <a id="fork-{{= module.name }}" ng-init="mixpanel.track_links('#fork-{{= module.name }}', 'Click', { target: 'github', module: '{{= module.name }}', action: 'fork' })" href="https://github.com/{{= author }}/{{= module.name }}/fork" target="_blank" class="list-group-item"><span class="fa fa-code-fork"></span><span class="mls">Fork it</span></a>
            <a id="npm-{{= module.name }}" ng-init="mixpanel.track_links('#npm-{{= module.name }}', 'Click', { target: 'npm', module: '{{= module.name }}', action: 'view' })" href="https://www.npmjs.org/package/{{= module.name }}" target="_blank" class="list-group-item"><span class="ta ta-npm"></span><span class="mls">View it on npm</span></a>
            <a href="http://twitter.com/share" tweet='Check out "{{= module.name }}" at' tweet-tags="nodejs" tweet-topic="{{= module.name }}" class="list-group-item"><span class="fa fa-twitter"></span><span class="mls">Tweet it</span></a>
            {%= if module.coverage %}
              <a href="/coverage/{{= module.name }}" ng-init="mixpanel.track_links('#btn-coverage-{{= module.name }}', 'Click', { target: 'coverage', module: '{{= module.name }}', action: 'view' })" class="list-group-item"><span class="fa fa-code"></span><span class="mls">View test coverage</span></a>
            {%= endif %}
          </div>
          <div class="list-group text-center fixed-sidebar" data-spy="affix" data-offset-top="1" style="font-size: 20pt;">
            <a id="btn-github-{{= module.name }}" ng-init="mixpanel.track_links('#btn-github-{{= module.name }}', 'Click', { target: 'github', page: '{{= module.name }}' })" href="https://github.com/{{= author }}/{{= module.name }}" target="_blank" class="list-group-item" title="View it on Github"><span class="fa fa-github"></span></a>
            <a id="btn-fork-{{= module.name }}" ng-init="mixpanel.track_links('#btn-fork-{{= module.name }}', 'Click', { target: 'github', page: 'fork {{= module.name }}' })" href="https://github.com/{{= author }}/{{= module.name }}/fork" target="_blank" class="list-group-item" title="Fork it"><span class="fa fa-code-fork"></span></a>
            <a id="btn-npm-{{= module.name }}" ng-init="mixpanel.track_links('#btn-npm-{{= module.name }}', 'Click', { target: 'npm', page: '{{= module.name }}' })" href="https://www.npmjs.org/package/{{= module.name }}" target="_blank" class="list-group-item" title="View it on npm"><span class="ta ta-npm"></span></a>
            <a href="http://twitter.com/share" tweet='Check out "{{= module.name }}" at' tweet-tags="nodejs" tweet-topic="{{= module.name }}" class="list-group-item" title="Tweet it"><span class="fa fa-twitter"></span></a>
            {%= if module.coverage %}
              <a id="btn-coverage-{{= module.name }}" ng-init="mixpanel.track_links('#btn-coverage-{{= module.name }}', 'Click', { target: 'coverage', page: '{{= module.name }}' })" href="/coverage/{{= module.name }}" class="list-group-item" title="View test coverage"><span class="fa fa-code"></span></a>
            {%= endif %}
          </div>
        </div>
        <div class="col-xs-9">
          <p><a href="https://travis-ci.org/tandrewnichols/key-list"><img src="https://travis-ci.org/tandrewnichols/key-list.png" alt="Build Status"></a> <a href="https://npmjs.org/package/key-list"><img src="http://img.shields.io/npm/dm/key-list.svg" alt="downloads"></a> <a href="https://npmjs.org/package/key-list"><img src="http://img.shields.io/npm/v/key-list.svg" alt="npm"></a> <a href="https://codeclimate.com/github/tandrewnichols/key-list"><img src="https://codeclimate.com/github/tandrewnichols/key-list/badges/gpa.svg" alt="Code Climate"></a> <a href="https://codeclimate.com/github/tandrewnichols/key-list"><img src="https://codeclimate.com/github/tandrewnichols/key-list/badges/coverage.svg" alt="Test Coverage"></a> <a href="https://david-dm.org/tandrewnichols/key-list"><img src="https://david-dm.org/tandrewnichols/key-list.png" alt="dependencies"></a></p>
<p><a href="https://nodei.co/npm/key-list.png?downloads=true"><img src="https://nodei.co/npm/key-list.png?downloads=true" alt="NPM info"></a></p>
<h1 id="key-list">key-list</h1>
<p>Returns a list of the interpolation keys in a string. That is, if you have a string that you&apos;re using interpolation on, like</p>
<pre><code ng-non-bindable="">Hello, {{ member.name }}</code></pre>
<p>and you call key-list with this string, you&apos;ll get back</p>
<pre><code ng-non-bindable="">[ &apos;member.name&apos; ]</code></pre>
<h2 id="installation">Installation</h2>
<p><code ng-non-bindable="">npm install key-list --save</code></p>
<h2 id="usage">Usage</h2>
<p>The default interpolation is the mustache pattern (<code ng-non-bindable="">{{ someKey }}</code>), so if you&apos;re using mustache, getting a list of keys is as easy as</p>
<pre><code class="lang-javascript" ng-non-bindable="">var keyList = require(&apos;key-list&apos;);
var str = &apos;Hello, {{ member.name }}&apos;;
var keys = keyList.getKeys(str); // [ &apos;member.name&apos; ]</code></pre>
<p>But even if you have a different pattern, I&apos;ve made it easy to use this library. If you&apos;re using a well-known interpolation pattern, there&apos;s a good chance I&apos;ve already got it in this library, and you just need to call it with the correct name. And incidentally, if you&apos;re using a well-known interpolation pattern that <em>isnt&apos;</em> in this library, please open an issue so I can add it. (Also, if any of the names have more canonical names, let me know. I just guessed on some.)</p>
<p>Here are the currently recognized pattern names:</p>
<pre><code class="lang-javascript" ng-non-bindable="">keyList.getKeys(&apos;{{ member.name }}&apos;, &apos;mustache&apos;);
keyList.getKeys(&apos;{ member.name }&apos;, &apos;thin-mustache&apos;);
keyList.getKeys(&apos;{% member.name %}&apos;, &apos;glasses&apos;);
keyList.getKeys(&apos;&lt;%= member.name %&gt;&apos;, &apos;ejs&apos;);
keyList.getKeys(&apos;#{ member.name }&apos;, &apos;coffee&apos;);
keyList.getKeys(&apos;${ member.name }&apos;, &apos;es6&apos;);

// I know, you probably wouldn&apos;t use these in javascript, but hey . . . they&apos;re there if you do
keyList.getKeys(&apos;@member.name&apos;, &apos;razor&apos;); 
keyList.getKeys(&apos;[% member.name %]&apos;, &apos;perl&apos;);</code></pre>
<p>Additionally, if you&apos;re using some bizarre non-standard interpolation pattern, you can pass it yourself as either a string or a regex:</p>
<pre><code class="lang-javascript" ng-non-bindable="">// Note that double slashes are necessary for converting strings
// to regular expressions and preserving the escape
keyList.getKeys(&apos;@|foo.bar|&apos;, &apos;@\\|\\s*([a-zA-Z0-9_\\.\\$)+]\\s*\\|&apos;);

// or

keyList.getKeys(&apos;@|foo.bar|&apos;, /@\|\s*([a-zA-Z0-9_\.\$)+]\s*\|/g);</code></pre>
<p>Alternatively, if that looks a bit complicated, you can provide only the open and close portions (including any optional spacing) and <code ng-non-bindable="">key-list</code> will provide the capture portion for you...</p>
<pre><code class="lang-javascript" ng-non-bindable="">// Note that open and close MUST be strings, not regular expressions
keyList.open = &apos;\\&gt;%\\s*&apos;;
keyList.close = &apos;\\s*%\\&lt;&apos;;
keyList.getKeys(&apos;&gt;% foo.bar %&lt;&apos;);</code></pre>
<p><code ng-non-bindable="">key-list</code> stores it&apos;s patterns on exports, so you could also just do:</p>
<pre><code class="lang-javascript" ng-non-bindable="">keyList.open = &apos;\\&gt;%&apos; + keyList.space;
keyList.close = keyList.space + &apos;*%\\&lt;&apos;;
keyList.getKeys(&apos;&gt;% foo.bar %&lt;&apos;);</code></pre>
<h2 id="not-usage">NOT usage</h2>
<p>This is not an interpolating library, lexer, or parser. You can&apos;t pass a context object and get a filled in string back. You can&apos;t include arbitrary javascript. And you will never be able to. There are plenty of existing libraries that do that. The sole purpose of this library is to show you what keys an interpolation string uses.</p>
<h2 id="so-what-are-the-use-cases-">So . . . what ARE the use cases?</h2>
<p>I wrote this because I could think of at least three places in other libraries I&apos;ve written where it would come in handy. In two of those, it was to prompt a user for missing values (for CLI tools). In the third (incomplete), it was to determine the order that a series of interpolations should occur in (e.g. if foo.a uses bar.b via interpolation, but bar.b itself has interpolation, foo.a needs to be evaluated <em>after</em> bar.b). A third possible use case would be to prevent errors in <code ng-non-bindable="">_.template</code> when keys don&apos;t exist.</p>
<h2 id="_-safe">_.safe</h2>
<p>On a side note, if you find yourself writing a recursive loop to try to deal with nested keys (like &quot;member.name&quot;), consider using <a href="https://github.com/mantacode/safe-obj">safe-obj</a>, which provides the <code ng-non-bindable="">_.safe</code> method specifically for accessing nested keys safely.</p>

        </div>
      </div>
    </div>
  </div>
{%= endblock %}
